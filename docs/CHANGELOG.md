# 変更履歴 (CHANGELOG)

このファイルは完了した作業の履歴を記録します。新しいエントリは上部に追加されます。

---

## 2026-02-07

### 実装内容
- **S010ツリー名編集ダイアログ**: ネイティブpromptからカスタムモーダルに変更
- **S010空状態改善**: 「まだツリーがありません」のフォルダアイコンを削除
- **S010ヘッダー固定**: スクロール時もヘッダーが固定表示されるように変更
- **S100ノードタイトル省略**: 長いタイトルは「…」で省略、マウスオーバーで全文表示
- **S100リロードボタン**: ツリー名+ロールの右側に回転アイコンのリロードボタンを追加
- **S010ツリー削除機能**: ゴミ箱アイコンで論理削除（is_deletedフラグ）

### 修正ファイル
- `public/my-page.html` - ヘッダー固定、編集/削除モーダル追加
- `public/static/my-page.js` - カスタムダイアログ、削除機能、フォルダアイコン削除
- `public/static/app.js` - ノードタイトル省略、リロードボタン追加
- `src/utils/trees.ts` - 論理削除対応（is_deletedフィルタリング）
- `migrations/0007_add_trees_deleted_flag.sql` - 新規マイグレーション

### 注意
- **本番デプロイ時**: マイグレーション `0007_add_trees_deleted_flag.sql` を実行すること

---

## 2026-02-06 (2)

### 実装内容
- **ツリー名編集機能**: マイページのツリーカードから直接ツリー名を変更可能に
- **ツリービュー改善**: ノードの上下パディングを2pxに変更（よりコンパクトな表示）
- **S100エディタ画面簡素化**: ヘッダーから通知アイコン、ユーザー名、ログアウトボタン、「Zeeta Web」ロゴ、ビルド番号を削除
- **S100ルート追加ボタン移動**: 「＋ルート追加」ボタンをタブ（通常/逆ツリー）と同じ行に配置
- **S010マイページ改善**: ヘッダーにビルド番号バッジを追加
- **S010ツリーカード改善**: オーナー用の鉛筆アイコン（編集ボタン）を追加

### 修正ファイル
- `public/static/app.js` - ツリービューパディング変更、エディタヘッダー簡素化
- `src/index.tsx` - エディタサイドバーのレイアウト変更（タブとルート追加ボタンを同一行に）
- `public/my-page.html` - ヘッダーにビルド番号バッジ追加
- `public/static/my-page.js` - fetchVersion関数、editTreeName関数、ツリーカード編集ボタン追加

---

## 2026-02-06

### 実装内容
- **招待フロー改善**: OAuth認証後に招待受諾ページへ自動リダイレクト
- **作成者フィールド**: テキスト入力からドロップダウン選択に変更（編集権限者のみ表示）
- **デフォルト作成者**: ノード新規作成時にログインユーザーを自動設定
- **保存ショートカット**: Cmd/Ctrl + Enter で保存可能、ツールチップ表示
- **UI改善**: タイトル入力欄のフォントサイズ拡大
- **注意書きバナー**: S010マイページに利用上の注意を追加
- **ドキュメント整理**: docs/フォルダをarchitecture/guides/testing/に再構成
- **画面定義書更新**: ID体系（S010〜S100）を導入、全画面の仕様を最新化

### 修正ファイル
- `src/index.tsx` - OAuth リダイレクトパラメータ対応
- `public/login.html` - リダイレクトURL処理
- `public/static/app.js` - 作成者ドロップダウン、ショートカット、UI改善
- `public/my-page.html` - 注意書きバナー追加
- `docs/architecture/screen-definition.md` - 画面定義書を全面更新

### テスト結果
- **成功**: 8/8 (100%)
- **テストファイル**: `tests/todo-2026-02-06.spec.js`
- **詳細レポート**: [testing/reports/2026-02-06.md](testing/reports/2026-02-06.md)

---

## 2026-01-30

### 実装内容
- **Phase 13 完了**: 最終統合テスト・ポリッシュ
- **メールサービス移行**: Resend → SendGrid → Mailgun

### テスト結果
- **成功**: 15/16 (93.75%)
- **スキップ**: TC-PERF-002（メール送信制限）
- **詳細**: [testing/test-plan-phase13.md](testing/test-plan-phase13.md)

---

## 2026-01-29

### 実装内容
- **Phase 10-11 完了**: プロフィール管理、通知システム
- マルチユーザー対応全13フェーズ完了

### テスト結果
- **累計**: 76/77 成功 (98.7%)

---

## 2026-01-28

### 実装内容
- **Phase 7-8 完了**: 招待システム、招待テスト
- 招待メール送信機能
- 招待受諾ページUI

---

## 2026-01-27

### 実装内容
- **Phase 4-6 完了**: E2Eテスト、楽観的ロック
- メンバー管理API
- 競合解決UI

---

## 2026-01-26

### 実装内容
- **Phase 1-3 完了**: 基盤、ツリー管理、ノード管理
- マルチユーザー対応開始
- OAuth認証（Google/GitHub）
- JWTセッション管理
- ツリー・権限管理システム
