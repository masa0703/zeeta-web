# テスト計画: 2026-02-06 TODO項目

## 概要

2026-02-06に実装されたTODO項目のテスト計画です。

## テストケース

### 1. 招待フロー改善

#### TC-INV-REDIRECT-001: 未ログインユーザーが招待リンクから登録後に招待ページに戻る
**説明:** 未登録ユーザーが招待リンクをクリックし、OAuth認証後に招待受諾ページに自動リダイレクトされる

**前提条件:**
- User1 がツリーを作成済み
- User1 が未登録のメールアドレスに招待を送信済み

**ステップ:**
1. 招待リンクにアクセス（未ログイン状態）
2. ログインページにリダイレクトされることを確認
3. ログインページのURLに `redirect` パラメータが含まれることを確認
4. OAuth認証を実行
5. 招待受諾ページにリダイレクトされることを確認

**期待結果:**
- ログインページに `redirect` パラメータが渡される
- 認証後に招待受諾ページに戻る
- 招待詳細が正しく表示される

---

### 2. 作成者フィールド

#### TC-AUTHOR-001: 作成者フィールドがドロップダウンで表示される
**説明:** ノード編集時に作成者がテキスト入力ではなくドロップダウンで表示される

**前提条件:**
- User1 がツリーのオーナー
- User2 が編集者として参加
- User3 が閲覧者として参加

**ステップ:**
1. User1 でログイン
2. ノードを選択
3. 作成者フィールドを確認

**期待結果:**
- 作成者フィールドが `<select>` 要素である
- ドロップダウンに User1 と User2 のみ表示される（閲覧者 User3 は表示されない）

#### TC-AUTHOR-002: 編集権限者のみがドロップダウンに表示される
**説明:** 閲覧者は作成者ドロップダウンに表示されない

**前提条件:**
- ツリーにオーナー1名、編集者2名、閲覧者1名が参加

**ステップ:**
1. オーナーでログイン
2. ノードを選択
3. 作成者ドロップダウンの選択肢を確認

**期待結果:**
- オーナーと編集者のみがリストに表示される
- 閲覧者は表示されない

---

### 3. 新規ノード作成時のデフォルト作成者

#### TC-AUTHOR-DEFAULT-001: ルートノード作成時にログインユーザーがデフォルト作成者になる
**説明:** ルートノード作成時に作成者入力のプロンプトが表示されず、ログインユーザーが自動設定される

**ステップ:**
1. User1 でログイン
2. ルートノード追加ボタンをクリック
3. タイトルのみ入力してノード作成

**期待結果:**
- 作成者入力のプロンプトが表示されない
- 作成されたノードの作成者が User1 の表示名になる

#### TC-AUTHOR-DEFAULT-002: 子ノード作成時にログインユーザーがデフォルト作成者になる
**説明:** 子ノード作成時にログインユーザーが自動設定される

**ステップ:**
1. User1 でログイン
2. 既存ノードに子ノードを追加
3. タイトルのみ入力してノード作成

**期待結果:**
- 作成者入力のプロンプトが表示されない
- 作成されたノードの作成者が User1 の表示名になる

---

### 4. 保存ショートカット

#### TC-SHORTCUT-001: Cmd+Enter（Mac）/ Ctrl+Enter（Windows）で保存できる
**説明:** キーボードショートカットでノードを保存できる

**ステップ:**
1. ノードを選択
2. タイトルを編集
3. Cmd+Enter（またはCtrl+Enter）を押下

**期待結果:**
- ノードが保存される
- 「保存しました」トーストが表示される

#### TC-SHORTCUT-002: 保存ボタンにショートカット情報がツールチップで表示される
**説明:** 保存ボタンにマウスオーバーするとショートカット情報が表示される

**ステップ:**
1. ノードを選択
2. 保存ボタンにマウスオーバー

**期待結果:**
- ツールチップに「保存 (⌘+Enter)」または「保存 (Ctrl+Enter)」が表示される

---

### 5. タイトル入力欄のフォントサイズ

#### TC-UI-TITLE-001: タイトル入力欄のフォントサイズが大きい
**説明:** ノード編集時のタイトル入力欄のフォントサイズが拡大されている

**ステップ:**
1. ノードを選択
2. タイトル入力欄のスタイルを確認

**期待結果:**
- タイトル入力欄に `text-lg` クラスが適用されている
- フォントサイズが 1.125rem (18px) 以上である

---

## テスト実行計画

| テストID | テスト名 | 優先度 | 自動化 |
|----------|----------|--------|--------|
| TC-INV-REDIRECT-001 | 招待リンクからのリダイレクト | 高 | E2E |
| TC-AUTHOR-001 | 作成者ドロップダウン表示 | 高 | E2E |
| TC-AUTHOR-002 | 編集権限者のみ表示 | 高 | E2E |
| TC-AUTHOR-DEFAULT-001 | ルートノードデフォルト作成者 | 中 | E2E |
| TC-AUTHOR-DEFAULT-002 | 子ノードデフォルト作成者 | 中 | E2E |
| TC-SHORTCUT-001 | 保存ショートカット | 高 | E2E |
| TC-SHORTCUT-002 | ツールチップ表示 | 低 | E2E |
| TC-UI-TITLE-001 | タイトルフォントサイズ | 低 | E2E |

## 合計: 8 テストケース
